\chapter{Resource Theories}

\exercise{2.5}
Is $(\R, \leq, 1, *)$ a symmetric monoidal preorder?

\solution
It is not a monoidal preorder, as for example $-5\leq -1$ and $-2\leq -1$, but $-5*-2\nleq -1*-1$.

\exercise{2.8}
Check that if $(M, *,e)$ is a commutative monoid then $(\textbf{Disc}_M,=,*,e)$ is a symmetric monoidal preorder.

\solution
Unitality, associativity, and symmetry come for free from the definition of a commutative monoid, so we only need to check monotonicity.  Since $x\leq y\iff x=y$ this is easy to check, as $x_1\leq y_1$ and $x_2\leq y_2$ implies $x_1=y_1$ and $x_2=y_2$ which in turn implies that $x_1*x_2 = y_1 * y_2$.

\newpage

\exercise{2.20}
Formally prove that $t\leq v+w, w+u\leq x+z, v+x\leq y$ implies $t+u\leq y+z$.  Be explicit about where reflexivity and transitivity are used, and why symmetry need not be used.

\solution
In the below, R=reflexivity, M=monotonicity, A=associativity, T=transitivity.  Symmetry is not used, which you can tell from the diagram from the fact that no wires cross.
\begin{align}
	t\leq v+w, u\leq u &&\implies&& t+u\leq (v+w)+u = v+(w+u) &\quad& \textrm{[R, M, A, T]}\label{1} \\
	(\ref{1}),w+u\leq x+z &&\implies&& v+(w+u)\leq v+(x+z) &\quad& \textrm{[M]}\label{2} \\
	(\ref{1},\ref{2}) &&\implies&& t+u\leq v+(x+z) = (v+x)+z &\quad& \textrm{[T, A]}\label{3} \\
	v+x\leq y, z\leq z &&\implies&& (v+x)+z\leq y+z &\quad& \textrm{[M]}\label{4} \\
	(\ref{3},\ref{4}) &&\implies&& t+u\leq y+z &\quad& \textrm{[T]}\label{5}
\end{align}

\exercise{2.21}
Skipped.

\exercise{2.29}
Consider $(\B,\leq)$ with monoidal product $\lor$.  What's the monoidal unit?  Does it satisfy the rest of the conditions?

\solution
The monoidal unit should be $\texttt{false}$.  Discussed why in person (i.e. truth table)

\exercise{2.31}
Show that there is a monoidal structure on $(\N, \leq)$ where the monoidal product is standard $*$.  What should the monoidal unit be?

\solution
The monoidal unit should be 1.  We will show monotonicity as the other conditions are obvious.  If $x_1\leq y_1$ and $x_2\leq y_2$, then there are $a_1,a_2\in\N$ such that $y_1 = x_1+a_1$ and $y_2=x_2+a_2$.  Then
$$y_1 * y_2 = (x_1 + a_1) * (x_2 + a_2)= x_1*x_2+a_1*x_2 + a_2*x_1 + a_1*a_2\geq x_1*x_2.$$

\exercise{2.33}
Consider the divisibility order $(\N, |)$.  Does $0$ as monoidal unit and $+$ as monoidal product satisfy the conditions?

\solution
It does not, as for example $2|4$ and $1|1$, but $(2+1)\nmid(4+1)$, so monotonicity fails.

\exercise{2.34}
Consider the preorder $\textbf{NMY}$ with Hasse diagram $\texttt{no}\to\texttt{maybe}\to\texttt{yes}$, monoidal unit $\texttt{yes}$ and ``min'' as the monoidal product.  Define what ``min'' should be and check that the axioms hold.

\solution
\begin{tabular}{c|ccc} 
min & no & maybe & yes \\
\hline no & no & no & no \\
maybe & no & no & maybe \\
yes & no & maybe & yes
\end{tabular}

\exercise{2.35}
Let $S$ be a set and let $P(S)$ be its power set, with the subset relation as order.  Does $P(S)$ with unit $S$ and product given by set intersection satisfy the conditions of symmetric monoidal preorder?

\solution
The other conditions are easy to show, so we will show monotonicity only.  Let $A_1, A_2, B_1, B_2\subseteq S$ where $A_1\subseteq B_1$ and $A_2\subseteq B_2$.  Then $A_1\cap A_2 \subseteq A_1\subseteq B_1$ and $A_1\cap A_2\subseteq A_2\subseteq B_2$, which implies that $A_1\cap A_2\subseteq B_1\cap B_2$.

\exercise{2.36}
Let $\texttt{Prop}^\N$ denote the set of all mathematical statements one can make about a natural number, where we consider two statements to be the same if one is true if and only if the other is true.  Given $P,Q\in\texttt{Prop}^\N$, we say $P\leq Q$ if for all $n\in\N$, whenever $P(n)$ is true, so is $Q(n)$.  Define a monoidal unit and product on $\texttt{Prop}^\N$.

\solution
We define the monoidal unit to be the statement ``$n$ is a natural number'' (i.e. a statement that's always true) and the monoidal product to be logical AND.  Note that this SMP effectively reduces to the previous example, where we consider subsets $P = \{n\in\N\ | P(n)\}$.

\exercise{2.39}
Complete the proof of Proposition 2.38.

\solution
These conditions are inherited from the original SMP, so we have decided this problem is dumb.

\exercise{2.40}
What is $\Cost^\textrm{op}$ as a preorder?  What is the monoidal unit and product?

\solution
$\Cost^\textrm{op}$ is the same as $\Cost$ but using $\leq$ rather than $\geq$.  From Proposition 2.38, we know that $\Cost^\textrm{op}$ can use the same monoidal unit and product as the original, i.e. $0$ and $+$.

\exercise{2.43}
Check that the map $g:(\B, \leq, \true, \land)\to([0,\infty],\geq,0,+)$ with $g(\false) = \infty$ and $g(\true)=0$ is monoidal monotone.  Is $g$ strict?

\solution
Clearly $g(\false)\leq g(\true)$ as $\infty\geq 0$, so $g$ is monotone.  In addition $g(\true)=0$, so the function preserves identities exactly.  Finally note that $g(\false)+g(\false) = \infty + \infty = \infty = g(\false)=g(\false\land\false)$, the other products are trivial as we've shown the identity is preserved.  Hence $g$ is strict monoidal monotone.

\exercise{2.44}
Let $\Bool$ and $\Cost$ be as above, and consider $d,u:[0,\infty]\to\B$ as follows:
$$d(x):=\left\{\begin{array}{ll}\text { false } & \text { if } x>0 \\ \text { true } & \text { if } x=0\end{array} \quad\quad\quad u(x):=\left\{\begin{array}{ll}\text { false } & \text { if } x=\infty \\ \text { true } & \text { if } x<\infty\end{array}\right.\right.$$
Is $d$ monotonic, monoidal, and/or strict?  Is $u$?

\solution
Both $d$ and $u$ are monotonic.  They also both map the unit in $\Cost$, namely $0$, exactly to the unit in $\Bool$, $\true$.

Finally, they both strictly preserve the monoidal product, which can be shown by a truth table.  In short, for $d$, anything added to a number $x>0$ continues to be greater than 0, while $0+0=0$; for $u$, anything added to $\infty$ is still $\infty$, while the sum of two finite numbers is still finite.

\exercise{2.45}
\begin{enumerate}
	\item Is $(\N, \leq, 1, *)$ a monoidal preorder?
	\item If not, why not?  If so, does there exist a monoidal monotone $(\N,\leq, 0, +)\to (\N, \leq, 1,*)$?  If not, why not?
	\item Is $(\Z,\leq, *, 1)$ a monoidal preorder?
\end{enumerate}

\solution
\begin{enumerate}
	\item Yes, $(\N,\leq,1,*)$ is a monoidal preorder, as we showed in Exercise 2.31.
	\item Let $f:\N\to\N$ be defined by $f(n)=1$ for any $n\in\N$.  Then clearly $f(0)=1$ so the unit is preserved, and for any $n,m\in\N$ we have $f(n)*f(m)=1*1=1=f(n+m)$, so the product is preserved.  Hence $f$ is strict monoidal monotone.
	\item No, $(\Z,\leq,1,*)$ is not, similar to what we showed in Exercise 2.5.
\end{enumerate}

\exercise{2.50}
\begin{enumerate}
	\item Show that if you start with a preorder $(P,\leq)$, define a $\Bool$-category as in Example 2.47, and turn it back to a preorder as in Theorem 2.49, you get back the preorder you started with.
	\item Similarly, show that if you start with a $\Bool$-category, turn it into a preorder, then turn it back to a $\Bool$-category, you get back the $\Bool$-category you started with.
\end{enumerate}

\solution
\begin{enumerate}
	\item Let $(P,\leq)$ be a preorder and let $\mcX$ be the constructed $\Bool$-category.  So $\Ob(\mcX)=P$ and $\mcX(x,y)=\true$ if and only if $x\leq y$.  As this is an if-and-only-if, if you do the reverse construction you get back exactly the original preorder.
	\item This proof is basically the same as the previous.
\end{enumerate}

\exercise{2.52}
Which distance is bigger under the above description, $d($Spain, US$)$ or $d($US, Spain$)$?

\solution
$d($US, Spain$)$ is bigger, since the US is larger in area than Spain.

\exercise{2.55}
Consider the SMP $(\R_{\geq0},\geq,0,+)$.  How would you characterise the difference between a Lawvere metric space and a $(\R_{\geq0},\geq,0,+)$-category?

\solution
The latter is the same as a Lawvere metric space except without infinite distances.

\exercise{2.58}
See book.

\solution
\begin{tabular}{c|cccc}
$d(\nearrow)$ & $A$ & $B$ & $C$ & $D$ \\
\hline$A$ & 0 & 6 & 3 & 11 \\
$B$ & 2 & 0 & 5 & 5 \\
$C$ & 5 & 3 & 0 & 8 \\
$D$ & 11 & 9 & 6 & 0
\end{tabular}

\exercise{2.60}
See book.

\solution
\begin{tabular}{c|cccc}
$\nearrow$ & $A$ & $B$ & $C$ & $D$ \\
\hline$A$ & 0 & $\infty$ & 3 & $\infty$ \\
$B$ & 2 & 0 & $\infty$ & 5 \\
$C$ & $\infty$ & 3 & 0 & $\infty$ \\
$D$ & $\infty$ & $\infty$ & 6 & 0
\end{tabular}

\exercise{2.61}
Interpret what a \textbf{NMY}-category is (Exercise 2.34).

\solution
This is a bit like a Hasse diagram (where edges either exist or don't), except with the possibility of an edge being ``maybe'' present.

\exercise{2.62, 2.63}
Discussed in person.

\exercise{2.67}
Draw the Hasse diagram for the preorder corresponding to the regions US, Spain, and Boston with the ``regions of the world'' Lawvere metric space.

\solution
This has a single nonidentity arrow, Boston $\to$ US, and no others, basically telling us that Boston is in the US but there are no other such containment relations among the three regions.

\exercise{2.68}
\begin{enumerate}
	\item Find another monoidal monotone $g:\Cost\to\Bool$ different from the one defined in the Eq. 2.66.
	\item Find a Lawvere metric space $\mcX$ on which your monoidal monotone $g$ and the monoidal monotone $f$ given in Eq. 2.66 give different answers, $\mcX_f\neq \mcX_g$.
\end{enumerate}

\solution
Let
$$g(x):=\left\{\begin{array}{ll}\false & \text { if } x=\infty \\ \true & \text { if } x<\infty\end{array}\right.$$
Then for the regions Lawvere metric space used above, the constructed preorder will be different.  For $\mcX_g$ every point is equivalent to every other point, as all regions are finite distances from one another, whereas there are points that are not connected for $\mcX_f$, e.g. Spain and US, as their distance is not zero.

\exercise{2.73}
\begin{enumerate}
	\item Show that a skeletal dagger $\Cost$-category is an extended metric space.
	\item Use Exercise 1.73 to make sense of the analogy ``preorders are to sets as Lawvere metric spaces are to extended metric spaces.''
\end{enumerate}

\solution
Let $\mcX$ be a skeletal dagger $\Cost$-category, and let $x,y,z\in\mcX$.  We will define $d(x,y)=\mcX(x,y)$.  From the definition of a $\mcV$-category we know that $0\geq\mcX(x,x)=d(x,x)$, so we have property (a) from Definition 2.51.  We also know that $\mcX(x,y)+\mcX(y,z)\geq \mcX(x,z)$, which gives us property (d).

From the fact that $\mcX$ is dagger, we know that the identity function is a $\mcV$-functor from $\mcX$ to $\mcX^\textrm{op}$.  Hence for each $x,y\in\mcX$, we have $\mcX(x,y)\geq\mcX(y,x)$ as well as $\mcX(y,x)\geq\mcX(x,y)$, which implies that $\mcX(x,y)=\mcX(y,x)$.  This proves property (c) holds.

Finally, suppose that $\mcX(x,y)=0$.  This implies that $0\geq \mcX(x,y)$, and from property (c) $0\geq\mcX(y,x)$.  Therefore due to the fact that $\mcX$ is skeletal, we have $x=y$.  This proves property (b).  Hence $\mcX$ is an extended metric space.

In Exercise 1.73 we showed that skeletal dagger preorders are sets, and analogously we now know that skeletal dagger Lawvere metric spaces are extended metric spaces.

\exercise{2.75}
Show that the $\mcV$-product of $\mcV$-categories is indeed a $\mcV$-category.  Point out exactly where the symmetry condition is used.

\solution
Let $\mcX\times\mcY$ be the $\mcV$-product of $\mcV$-categories.

For $(x,y)\in\Ob(\mcX\times\mcY)$,  we have $(\mcX\times\mcY)((x,y),(x,y))=\mcX(x,x)\otimes\mcY(y,y)$.  Since $\mcX$ and $\mcY$ are $\mcV$-categories, we know $I\leq\mcX(x,x)$ and $I\leq\mcY(y,y)$, which implies that $I\otimes I=I\leq\mcX(x,x)\otimes\mcY(y,y)$, again by the properties of the monoidal preorder $\mcV$.  Therefore $I\leq(\mcX\times\mcY)((x,y),(x,y))$.

Next, let $(x_1,y_1),(x_2,y_2),(x_3,y_3)\in\Ob(\mcX\times\mcY)$.  Then
\begin{align*}
	&(\mcX\times\mcY)((x_1,y_1),(x_2,y_2))\otimes(\mcX\times\mcY)((x_2,y_2),(x_3,y_3))\\ 
	=&\left(\mcX(x_1,x_2)\otimes\mcY(y_1,y_2)\right)\otimes\left(\mcX(x_2,x_3)\otimes\mcY(y_2,y_3)\right)\\
	=&\left(\mcX(x_1,x_2)\otimes\mcX(x_2,x_3)\right)\otimes\left(\mcY(y_1,y_2)\otimes\mcY(y_2,y_3)\right)\quad\textrm{by symmetry}\\
	\leq&\hspace{1.5cm}\mcX(x_1,x_3)\hspace{1cm}\otimes\hspace{1cm}\mcY(y_1,y_3)\\
	=&(\mcX\times\mcY)((x_1,y_1),(x_3,y_3).
\end{align*}
(The inequality is from the definition of $\mcV$-category and the monoidal product in $\mcV$.)
Therefore $\mcX\times\mcY$ is a $\mcV$-category.

\exercise{2.78}
Considering $\R$ as a $\Cost$ category, form the $\Cost$-product $\R\times\R$.  What is the distance from $(5,6)$ to $(-1,4)$?

\solution
$$(\R\times\R)((5,6),(-1,4)) = \R(5,-1)+\R(6,4)=6+2=8$$

\exercise{2.82}
Prove that a monoidal preorder $(V,\leq, I,\otimes)$ is monoidal closed iff, given any $v\in V$, the map $(-\otimes v):V\to V$ given by multiplying with $v$ has a right adjoint, written $(v \multimap-): V \to V$.

\solution
Let $w,w'\in V$.  Then as $v\leq v$, we know $w\leq w'\implies w\otimes v\leq w'\otimes v$ by the definition of a monoidal preorder.  So the map $(-\otimes v)$ is monotone.

Next we suppose $\mcV$ is closed.  Then as $(v\multimap w)\leq (v\multimap w)$, by the definition of monoidal closure we have $\left((v\multimap w)\otimes v\right) \leq w$.

Finally if $w\leq w'$, then we want to show $(v\multimap w)\leq (v\multimap w')$.  But from the previous step we have $\left((v\multimap w)\otimes v\right)\leq w\leq w',$ which again by definition of closure gives us $(v\multimap w)\leq (v\multimap w')$.  Thus the map $(v \multimap-)$ is monotone.

As the definition of a hom-element gives us the rest of the conditions of a Galois connection, this shows that a SMP is closed if and only if $(-\otimes v)$ has a right adjoint, namely $(v\multimap-)$.

\exercise{2.84}
Show that $\Bool=(\B,\leq,\true,\land)$ is monoidal closed.

\solution
We show that $\multimap$ is the $\implies$ operator.  Let $a,v,w\in\B$.  Then the usual rules of logic tell us
$$ a\land v\leq w \quad\textrm{iff}\quad a\leq (v\implies w).$$

\exercise{2.92}
\begin{enumerate}
	\item What is $\bigvee\varnothing$ in the case of (a) $\Bool$ and (b) $\Cost$?
	\item What is $x\lor y$ in the same cases?
\end{enumerate}

\solution
\begin{enumerate}
	\item In $\Bool$, $\bigvee\varnothing=\false$.  In $\Cost$, it is $\infty$.
	\item In $\Bool$, $x\lor y$ is logical-or.  In $\Cost$, it is $\min$.
\end{enumerate}

\exercise{2.93}
Show that $\Bool=(\B,\leq,\true,\land)$ is a quantale.

\solution
We've already showed that $\Bool$ is closed.  As the join is logical-or, we can clearly ``or'' together as many booleans as we like and get a boolean value, hence $\Bool$ is a quantale.

\exercise{2.94}
Let $S$ be a set.  Is the power set monoidal preorder $(P(S),\subseteq, S, \cap)$ a quantale?

\solution
$P(S)$ clearly contains all joins, i.e. set unions, so to show that it is a quantale we will show that it is monoidal closed.  We define the hom-element to be $A\multimap B := \overline B\cup C$ (where $\overline B$ is the complement of $B$ in $S$).

Then for any $A,B,C\subseteq S$, we have $A\cap B\subseteq C\implies A\subseteq \overline B\cup C$, as $A$ consists of the part of $A$ not in $B$, i.e. within $\overline B$, and the part of $A$ within $B$, which we've assumed is a subset of $C$. 

Finally if $A\subseteq \overline B\cup C$, then
$$A\cap B\subseteq (\overline B \cup C)\cap B=(\overline B\cap B)\cup(C \cap B)=B\cap C\subseteq C.$$
Thus we have shown $A\cap B\subseteq C\iff A\subseteq\overline B\cup C$, which proves that $(P(S),\subseteq, S, \cap)$ is a quantale.

\exercise{2.103}
Write down the 2 $\times 2$ -identity matrix for each of the quantales $(\mathbb{N}, \leq, 1, *)$, $\Bool=(\mathbb{B}, \leq,$ true, $\wedge),$ and $\Cost=([0, \infty], \geq, 0,+)$.

\solution
(Note the first example only has finite joins, which is okay for matrix multiplication.)  For $\N$ the standard identity matrix works.

For $\Bool$, the matrix with true on the diagonal and false everywhere else is the identity.

For $\Cost$, the matrix with 0 on the diagonal and $\infty$ on the off diagonals is the identity.

\exercise{2.104}
Let $\mcV=(V,\leq, I, \otimes,\multimap)$ be a quantale.  Prove the identity and associative laws for $\mcV$-matrix multiplication.

\solution
Let $A$ and $B$ be sets and $M:A\times B\to V$ a $\mcV$-matrix.  Then
\begin{align*}
	(I_A*M)(a,b) &= \bigvee_{a'\in A}I_A(a,a')\otimes M(a',b). \\
	\intertext{These entries are nonzero only when $a=a'$ by definition of $I_A$, so this gives us}
	&= \left[\bigvee_{a'\neq a} I_A(a,a')\otimes M(a',b)\right] \lor I_A(a,a)\otimes M(a,b)\\
	&= \left[\bigvee_{a'\neq a}\left(\bigvee\varnothing\otimes M(a',b)\right)\right]\lor I\otimes M(a,b)\\
	&= \left[\bigvee_{a'\neq a}\left(\bigvee_{x\in\varnothing}(x\otimes M(a',b))\right)\right]\lor M(a,b)\\
	\intertext{by application of Proposition 2.87.  As the join over the empty set is 0, we have}
	&= \left[\bigvee_{a'\neq a}0\right]\lor M(a,b) = M(a,b).
\end{align*}
This proves $I_A*M = M$.

Next, let $M:A\times B\to V, N:B\times C\to V$, and $P:C\times D\to V$.  Then
\begin{align*}
	((M*N)*P)(a,d) &= \left[\bigvee_{b\in B} M(a,b)\otimes N(b,c)\right]*P\\
	&= \bigvee_{c\in C}\left(\left[\bigvee_{b\in B} M(a,b)\otimes N(b,c)\right] \otimes P(c,d)\right)\\
	&= \bigvee_{c\in C} \bigvee_{b\in B}(M(a,b)\otimes N(b,c))\otimes P(c,d), \\
	\intertext{again using Proposition 2.87.  By the associativity of the monoidal product, this gives us}
	&= \bigvee_{c\in C}\bigvee_{b\in B} M(a,b)\otimes(N(b,c)\otimes P(c,d)).
	\intertext{It is clear that we can switch the order of the joins, giving us}
	&=  \bigvee_{b\in B}\bigvee_{c\in C} M(a,b)\otimes(N(b,c)\otimes P(c,d))\\
	&= \bigvee_{b\in B}M(a,b)\otimes \left[\bigvee_{c\in C} N(b,c)\otimes P(c,d)\right]\\
	&= M*\left[\bigvee_{c\in C} N(b,c)\otimes P(c,d)\right] \\
	&= (M*(N*P))(a,d).
\end{align*}
Therefore $(M*N)*P = M*(N*P)$.
